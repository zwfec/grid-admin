<!DOCTYPE html>
<html>
<head>
    <!-- The jQuery library is a prerequisite for all jqSuite products -->
    <script type="text/ecmascript" src="http://www.guriddo.net/demo/js/jquery.min.js"></script>
    <!-- We support more than 40 localizations -->
    <script type="text/ecmascript" src="http://www.guriddo.net/demo/js/trirand/i18n/grid.locale-en.js"></script>
    <!-- This is the Javascript file of jqGrid -->
    <script type="text/ecmascript" src="http://www.guriddo.net/demo/js/trirand/jquery.jqGrid.min.js"></script>
    <!-- This is the localization file of the grid controlling messages, labels, etc.
    <!-- A link to a jQuery UI ThemeRoller theme, more than 22 built-in and many more custom -->
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <!-- The link to the CSS that the grid needs -->
    <link rel="stylesheet" type="text/css" media="screen" href="http://www.guriddo.net/demo/css/trirand/ui.jqgrid-bootstrap.css" />
    <script>
        $.jgrid.defaults.width = 780;
    </script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <meta charset="utf-8" />
    <title>jqGrid Loading Data - Million Rows from a REST service</title>
    <link href="assets/styles/bootstrap.min.css" rel="stylesheet">
    <link href="assets/scripts/plugins/jqgrid/styles/ui.jqgrid.css" rel="stylesheet">
    <link href="assets/scripts/plugins/jqgrid/styles/ui.jqgrid.style.css" rel="stylesheet">
</head>
<body class="gray-bg">
<div class="wrapper wrapper-content  animated fadeInDown">
    <div class="row">
        <div class="col-sm-12">
            <div class="ibox ">
                <div class="ibox-title">
                    <h5>jQuery Grid Plugin – jqGrid</h5>
                </div>
                <div class="ibox-content">
                    <p>
                        <strong>jqGrid</strong> 是一个用来显示网格数据的jQuery插件，文档比较全面，附带中文版本。访问<a target="_blank"
                                                                                        href="http://www.trirand.com/blog/">
                        官网</a>
                    </p>
                    <p>jqGrid的主要特点为：</p>
                    <ol>
                        <li>基于jquery UI主题，开发者可以根据客户要求更换不同的主题</li>
                        <li>兼容目前所有流行的web浏览器</li>
                        <li>Ajax分页，可以控制每页显示的记录数</li>
                        <li>支持XML，JSON，数组形式的数据源</li>
                        <li>提供丰富的选项配置及方法事件接口</li>
                        <li>支持表格排序，支持拖动列、隐藏列</li>
                        <li>支持滚动加载数据</li>
                        <li>支持实时编辑保存数据内容</li>
                        <li>支持子表格及树形表格</li>
                        <li>支持多语言</li>
                        <li>免费</li>
                    </ol>
                    <hr>
                    <h4>基本示例</h4>

                    <div class="jqGrid_wrapper">
                        <table id="table_list_1"></table>
                        <div id="pager_list_1"></div>
                    </div>
                    <p>&nbsp;</p>
                    <h4 class="m-t">高级用法</h4>
                    <div class="jqGrid_wrapper">
                        <table id="table_list_2"></table>
                        <div id="pager_list_2"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="assets/scripts/jquery-1.12.3.min.js"></script>
<script src="assets/scripts/plugins/jqgrid/i18n/grid.locale-cn.js"></script>
<script src="assets/scripts/plugins/jqgrid/src/jquery.jqGrid.js"></script>
<script>
    $(document).ready(function () {
        $.jgrid.defaults.width = 780;
        $.jgrid.defaults.responsive = true;
        $.jgrid.defaults.styleUI = 'Bootstrap';
        var mydata = [
            {id: "1", invdate: "2010-05-24", name: "test", note: "note", tax: "10.00", total: "2111.00"},
            {id: "2", invdate: "2010-05-25", name: "test2", note: "note2", tax: "20.00", total: "320.00"},
            {id: "3", invdate: "2007-09-01", name: "test3", note: "note3", tax: "30.00", total: "430.00"},
            {id: "4", invdate: "2007-10-04", name: "test", note: "note", tax: "10.00", total: "210.00"},
            {id: "5", invdate: "2007-10-05", name: "test2", note: "note2", tax: "20.00", total: "320.00"},
            {id: "6", invdate: "2007-09-06", name: "test3", note: "note3", tax: "30.00", total: "430.00"},
            {id: "7", invdate: "2007-10-04", name: "test", note: "note", tax: "10.00", total: "210.00"},
            {
                id: "8",
                invdate: "2007-10-03",
                name: "test",
                note: "note2",
                amount: "300.00",
                tax: "21.00",
                total: "320.00"
            },
            {
                id: "9",
                invdate: "2007-09-01",
                name: "test3",
                note: "note3",
                amount: "400.00",
                tax: "30.00",
                total: "430.00"
            },
            {
                id: "11",
                invdate: "2007-10-01",
                name: "test",
                note: "note",
                amount: "200.00",
                tax: "10.00",
                total: "210.00"
            },
            {
                id: "12",
                invdate: "2007-10-02",
                name: "test2",
                note: "note2",
                amount: "300.00",
                tax: "20.00",
                total: "320.00"
            },
            {
                id: "13",
                invdate: "2007-09-01",
                name: "test3",
                note: "note3",
                amount: "400.00",
                tax: "30.00",
                total: "430.00"
            },
            {
                id: "14",
                invdate: "2007-10-04",
                name: "test",
                note: "note",
                amount: "200.00",
                tax: "10.00",
                total: "210.00"
            },
            {
                id: "15",
                invdate: "2007-10-05",
                name: "test2",
                note: "note2",
                amount: "300.00",
                tax: "20.00",
                total: "320.00"
            },
            {
                id: "16",
                invdate: "2007-09-06",
                name: "test3",
                note: "note3",
                amount: "400.00",
                tax: "30.00",
                total: "430.00"
            },
            {
                id: "17",
                invdate: "2007-10-04",
                name: "test",
                note: "note",
                amount: "200.00",
                tax: "10.00",
                total: "210.00"
            },
            {
                id: "18",
                invdate: "2007-10-03",
                name: "test2",
                note: "note2",
                amount: "300.00",
                tax: "20.00",
                total: "320.00"
            },
            {
                id: "19",
                invdate: "2007-09-01",
                name: "test3",
                note: "note3",
                amount: "400.00",
                tax: "30.00",
                total: "430.00"
            },
            {
                id: "21",
                invdate: "2007-10-01",
                name: "test",
                note: "note",
                amount: "200.00",
                tax: "10.00",
                total: "210.00"
            },
            {
                id: "22",
                invdate: "2007-10-02",
                name: "test2",
                note: "note2",
                amount: "300.00",
                tax: "20.00",
                total: "320.00"
            },
            {
                id: "23",
                invdate: "2007-09-01",
                name: "test3",
                note: "note3",
                amount: "400.00",
                tax: "30.00",
                total: "430.00"
            },
            {
                id: "24",
                invdate: "2007-10-04",
                name: "test",
                note: "note",
                amount: "200.00",
                tax: "10.00",
                total: "210.00"
            },
            {
                id: "25",
                invdate: "2007-10-05",
                name: "test2",
                note: "note2",
                amount: "300.00",
                tax: "20.00",
                total: "320.00"
            },
            {
                id: "26",
                invdate: "2007-09-06",
                name: "test3",
                note: "note3",
                amount: "400.00",
                tax: "30.00",
                total: "430.00"
            },
            {
                id: "27",
                invdate: "2007-10-04",
                name: "test",
                note: "note",
                amount: "200.00",
                tax: "10.00",
                total: "210.00"
            },
            {
                id: "28",
                invdate: "2007-10-03",
                name: "test2",
                note: "note2",
                amount: "300.00",
                tax: "20.00",
                total: "320.00"
            },
            {
                id: "29",
                invdate: "2007-09-01",
                name: "test3",
                note: "note3",
                amount: "400.00",
                tax: "30.00",
                total: "430.00"
            }
        ];

        $("#table_list_2").jqGrid({
            data: mydata,
            datatype: "local",
            height: 450,
            width:  1000,
            autowidth: false,
//            scroll:true,
            scrollOffset : 20, // scroll 边框宽度
            shrinkToFit: false,
            rowNum: 20,
            responsive : false,
            rowList: [10, 20, 30],
            subGrid: true, // set the subGrid property to true to show expand buttons for each row
            subGridRowExpanded: showChildGrid, // javascript function that will take care of showing the child grid
            colNames: ["序号", "日期", "客户", "金额", "运费", "总额", "备注"],
            colModel: [{
                name: "id",
                index: "id",
                editable: true,
                width: 60,
                sorttype: "int",
                search: true
            }, {
                name: "invdate",
                index: "invdate",
                editable: true,
                width: 90,
                sorttype: "date",
                formatter: "date"
            }, {name: "name", index: "name", editable: true, width: 100}, {
                name: "amount",
                index: "amount",
                editable: true,
                width: 80,
                align: "right",
                sorttype: "float",
                formatter: "number"
            }, {
                name: "tax",
                index: "tax",
                editable: true,
                width: 80,
                align: "right",
                sorttype: "float"
            }, {
                name: "total",
                index: "total",
                editable: true,
                width: 80,
                align: "right",
                sorttype: "float"
            }, {name: "note", index: "note", editable: true, width: 100, sortable: false}],
            pager: "#pager_list_2",
            viewrecords: true,
            caption: "jqGrid 示例2",
            add: true,
            edit: true,
            addtext: "Add",
            edittext: "Edit",
            hidegrid: false,
            multiselect: true,
            rownumbers: true, // 显示行号
            rownumWidth: 25,
        });
        $("#table_list_2").setSelection(4, true);
        $("#table_list_2").jqGrid("navGrid", "#pager_list_2", {
            edit: true,
            add: true,
            del: true,
            search: true
        }, {height: '100%', reloadAfterSubmit: true});
//        $(window).bind("resize", function () {
//            var width = $(".jqGrid_wrapper").width();
////                var height = $(window).width();
//            $("#table_list_1").setGridWidth(width);
//            $("#table_list_2").setGridWidth(width)
//        });
        // the event handler on expanding parent row receives two parameters
        // the ID of the grid tow  and the primary key of the row
        function showChildGrid(parentRowID, parentRowKey) {
            $.ajax({
                url: parentRowKey+".html",
                type: "GET",
                success: function (html) {
                    $("#" + parentRowID).append(html);
                }
            });

        }
        // 取得选中行
        function getSelectedRows() {
            var grid = $("#jqGrid");
            var rowKey = grid.getGridParam("selrow");

            if (!rowKey)
                alert("No rows are selected");
            else {
                var selectedIDs = grid.getGridParam("selarrrow");
                var result = "";
                for (var i = 0; i < selectedIDs.length; i++) {
                    result += selectedIDs[i] + ",";
                }

                alert(result);
            }
        }
    });
</script>

<!-- This code is related to code tabs -->
<br />
<span style="margin-left:18px; font-family: Tahoma">Click on the Tabs below the see the relevant code for the example: </span>
<br /><br />
<div id="codetabs" style="width:700px; height: 400px; font-size:65%;"></div>
<script type="text/ecmascript" src="http://www.guriddo.net/demo/js/prettify/prettify.js"></script>
<link rel="stylesheet" href="http://www.guriddo.net/demo/css/prettify.css" />
<script type="text/ecmascript" src="http://www.guriddo.net/demo/js/codetabs-b.js"></script>
</body>
</html>
